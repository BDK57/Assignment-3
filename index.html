<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


    <style>
        #main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .list-group-item {
            padding: 20px;
            width: 800px;
        }
    </style>
    <script>

        alert("Sorry Sir i can't Complete this project due to shortage of time i forget to attend this Assignment due to Exams and My office So I Filter This JSON FILE ALMOST ON GENRE OR RELAEASE KINDLY CONSIDER IT I AM SORRY")
        document.addEventListener("DOMContentLoaded", function () {
            const moviesList = document.getElementById('movies-list');
            const genreFilter = document.getElementById('genre');
            const LanguageFilter = document.getElementById('lang');


            // fetch the data from the JSON file
            fetch('movies.json')
                .then(response => response.json())
                .then(data => {
                    // store the data in a variable
                    let movies = data;


                    // add an event listener to the genre filter dropdown
                    genreFilter.addEventListener('change', () => {
                        // filter the movies based on the selected genre
                        if (genreFilter.value !== '') {
                            movies = data.filter(movie => movie.genres.includes(genreFilter.value));
                        } else {
                            movies = data;
                        }

                        // display the filtered movies in the moviesList element
                        displayMovies(movies);
                    });

                    LanguageFilter.addEventListener('change', () => {
                        if (LanguageFilter.value !== '') {
                            movies = data.filter(movie => movie.original_language.includes(LanguageFilter.value));
                        } else {
                            movies = data;
                        }

                        displayMovies(movies);
                    });

                    displayMovies(movies);
                });

            function displayMovies(movies) {
                moviesList.innerHTML = '';
                movies.forEach(movie => {
                    const li = document.createElement('li');
                    li.textContent = `${movie.title} \t\t (${movie.original_language}) - ${movie.genres} - ${movie.release_date} `;
                    li.setAttribute('class', 'list-group-item')

                    moviesList.appendChild(li);
                });
            }
        });



    </script>
</head>

<body>
    <div id="main">

        <label for="genre">Select genre:</label>
        <select name="genre" id="genre">
            <option value="">All genres</option>
            <option value="Action">Action</option>
            <option value="Crime">Crime</option>
            <option value="Drama">Drama</option>
        </select>

        <label for="lang">Select Language:</label>
        <select name="lang" id="lang">
            <option value="">All Languages</option>
            <option value="English">English</option>
            <option value="French">French</option>
        </select>



        <ol id="movies-list" class="list-group"></ol>

    </div>


</body>

</html>